<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Login - IVC Echelon Exchange</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Use your custom CSS files -->
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="theme.css">
    <link rel="stylesheet" href="layout.css">
    <link rel="stylesheet" href="components.css">
    <style>
      /* Login page specific styling */
      .account-container {
        max-width: 500px;
        margin: 50px auto;
        padding: 20px;
        background: #FFFFFF;
        border: 1px solid #002fa7;
        border-radius: 8px;
      }
      .account-container h2 {
        text-align: center;
        color: #002fa7;
      }
      .account-container p {
        text-align: center;
        color: #002fa7;
      }
      .account-form-group {
        margin-bottom: 15px;
      }
      .account-form-group label {
        display: block;
        margin-bottom: 5px;
        color: #002fa7;
      }
      .account-form-group input {
        width: 100%;
        padding: 10px;
        border: 1px solid #002fa7;
        border-radius: 4px;
        font-size: 16px;
      }
      .account-container .btn {
        width: 100%;
        margin-top: 10px;
        background-color: #002fa7;
        color: #FFFFFF;
        border: none;
        padding: 12px;
        border-radius: 30px;
        cursor: pointer;
        font-size: 16px;
      }
      .account-container a {
        color: #002fa7;
        text-decoration: none;
      }
      .remember-forgot {
        text-align: center;
        margin-top: 10px;
        color: #002fa7;
      }
      .return-home {
        text-align: center;
        margin-top: 20px;
      }
      .return-home .btn {
        width: auto;
        padding: 8px 16px;
      }
    </style>
  </head>
  <body>
    <div class="account-container">
      <h2>Login</h2>
      <p>Enter your username and password to login to your account.</p>
      <form action="" method="post" id="loginForm">
        <div class="account-form-group">
          <label>User Name</label>
          <input type="text" name="name" required>
        </div>
        <div class="account-form-group">
          <label>Password</label>
          <input type="password" name="password" required>
        </div>
        <div class="account-form-group">
          <input type="submit" name="submit" class="btn" value="Submit">
        </div>
        <div class="remember-forgot">
          <label><input type="checkbox"> Remember Me</label>
        </div>
        <p>Don't have an account? <a href="accountregistatrion.html">Create account here</a>.</p>
      </form>
      <!-- Return to Homepage Button -->
      <div class="return-home">
        <button class="btn" onclick="location.href='index.html'">Return to Homepage</button>
      </div>
    </div>
    <script>
      document.querySelector('#loginForm').addEventListener('submit', (e) => {
        e.preventDefault();
  
        const username = document.querySelector('input[name="name"]').value;
        const password = document.querySelector('input[name="password"]').value;
  
        // Get stored users
        const users = JSON.parse(localStorage.getItem('users')) || [];
  
        // Find matching user
        const user = users.find(u => u.username === username && u.password === password);
  
        if (user) {
          // Store logged in user
          localStorage.setItem('currentUser', JSON.stringify(user));
  
          // Handle remember me
          const rememberMe = document.querySelector('input[type="checkbox"]').checked;
          if (rememberMe) {
            localStorage.setItem('rememberMe', 'true');
          } else {
            localStorage.removeItem('rememberMe');
          }
  
          alert('Login successful!');
          window.location.href = 'index.html'; // Redirect to home page
        } else {
          alert('Invalid username or password!');
        }
      });
    </script>
  </body>
</html>
